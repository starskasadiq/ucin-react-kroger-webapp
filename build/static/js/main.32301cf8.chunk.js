(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{10:function(e,t,n){e.exports={rowC:"DataAnalysis_rowC__21fjk",outbox:"DataAnalysis_outbox__OszhC",databox:"DataAnalysis_databox__3yFlJ",databox1:"DataAnalysis_databox1__23tCF",piedoughnut:"DataAnalysis_piedoughnut__3qLwk",control:"DataAnalysis_control__1dDDv"}},12:function(e,t,n){e.exports={form:"DataExtract_form__26lEW",databox:"DataExtract_databox__3mRRG",control:"DataExtract_control___bIq0",action:"DataExtract_action__2B--f"}},15:function(e,t,n){e.exports={auth:"AuthForm_auth__MPw6W",control:"AuthForm_control__2fVSU",actions:"AuthForm_actions__1VNhY",toggle:"AuthForm_toggle__21tnB"}},22:function(e,t,n){e.exports={form:"ProfileForm_form__2xGgc",control:"ProfileForm_control__2YUZH",action:"ProfileForm_action__opJ_6"}},25:function(e,t,n){e.exports={header:"MainNavigation_header__2lqQ1",logo:"MainNavigation_logo__1TgMx"}},39:function(e,t,n){e.exports={profile:"UserProfile_profile__gQOnH"}},40:function(e,t,n){e.exports={starting:"StartingPageContent_starting__kwCvL",databox:"StartingPageContent_databox__3QvhI"}},45:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(36),s=n.n(c),a=n(11),r=(n(45),n(3)),i=n(1),o=n.n(i),l=n(2),j=n(0),d=o.a.createContext({token:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),b=function(e){var t=Object(i.useState)(null),n=Object(l.a)(t,2),c=n[0],s=n[1],a={token:c,isLoggedIn:!!c,login:function(e){s(e)},logout:function(){s(null)}};return Object(j.jsx)(d.Provider,{value:a,children:e.children})},h=d,u=n(25),O=n.n(u),x=function(){var e=Object(i.useContext)(h),t=e.isLoggedIn,n=Object(r.g)();return Object(j.jsxs)("header",{className:O.a.header,children:[Object(j.jsx)(a.b,{to:"/",children:Object(j.jsx)("div",{className:O.a.logo,children:"Thunder Buddies"})}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{children:[!t&&Object(j.jsx)("li",{children:Object(j.jsx)(a.b,{to:"/auth",children:"Login"})}),t&&Object(j.jsx)("li",{children:Object(j.jsx)(a.b,{to:"/profile",children:"Profile"})}),t&&Object(j.jsx)("li",{children:Object(j.jsx)(a.b,{to:"/data",children:"Search Data"})}),t&&Object(j.jsx)("li",{children:Object(j.jsx)(a.b,{to:"/load",children:"Load Data"})}),t&&Object(j.jsx)("li",{children:Object(j.jsx)(a.b,{to:"/analyze",children:"Analyze Data"})}),t&&Object(j.jsx)("li",{children:Object(j.jsx)("button",{onClick:function(){e.logout(),n.replace("/")},children:"Logout"})})]})})]})},p=function(e){return Object(j.jsxs)(i.Fragment,{children:[Object(j.jsx)(x,{}),Object(j.jsx)("main",{children:e.children})]})},g=n(22),m=n.n(g),f=function(){var e=Object(r.g)(),t=Object(i.useRef)(),n=Object(i.useContext)(h);return Object(j.jsxs)("form",{className:m.a.form,onSubmit:function(c){c.preventDefault();var s=t.current.value;fetch("https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyCYzzubL39NJVVS6ishlutAQU5MpElrED0",{method:"POST",body:JSON.stringify({idToken:n.token,password:s,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),e.replace("/")}))},children:[Object(j.jsxs)("div",{className:m.a.control,children:[Object(j.jsx)("label",{htmlFor:"new-password",children:"New Password"}),Object(j.jsx)("input",{type:"password",id:"new-password",minLength:"7",ref:t})]}),Object(j.jsx)("div",{className:m.a.action,children:Object(j.jsx)("button",{children:"Change Password"})})]})},v=n(39),_=n.n(v),y=function(){return Object(j.jsxs)("section",{className:_.a.profile,children:[Object(j.jsx)("h1",{children:"Your User Profile"}),Object(j.jsx)(f,{})]})},S=n(15),N=n.n(S),C=function(){var e=Object(r.g)(),t=Object(i.useState)(!0),n=Object(l.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)(!1),o=Object(l.a)(a,2),d=o[0],b=o[1],u=Object(i.useRef)(),O=Object(i.useRef)(),x=Object(i.useRef)(),p=Object(i.useContext)(h);return Object(j.jsxs)("section",{className:N.a.auth,children:[Object(j.jsx)("h1",{children:c?"Login":"Sign Up"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n,s=u.current.value,a=O.current.value;b(!0),n=c?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCYzzubL39NJVVS6ishlutAQU5MpElrED0":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCYzzubL39NJVVS6ishlutAQU5MpElrED0",fetch(n,{method:"POST",body:JSON.stringify({email:s,password:a,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return b(!1),e.ok?e.json():e.json().then((function(e){var t="AuthenticationFailed";throw e&&e.error&&e.error.message&&(t=e.error.message),new Error(t)}))})).then((function(t){p.login(t.idToken),e.replace("/")})).catch((function(e){alert(e.message)}))},children:[Object(j.jsxs)("div",{className:N.a.control,children:[Object(j.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(j.jsx)("input",{type:"email",id:"email",required:!0,ref:u})]}),!c&&Object(j.jsxs)("div",{className:N.a.control,children:[Object(j.jsx)("label",{htmlFor:"username",children:"Your Username"}),Object(j.jsx)("input",{type:"text",id:"username",required:!0,ref:x})]}),Object(j.jsxs)("div",{className:N.a.control,children:[Object(j.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(j.jsx)("input",{type:"password",id:"password",required:!0,ref:O})]}),Object(j.jsxs)("div",{className:N.a.actions,children:[!d&&Object(j.jsx)("button",{children:c?"Login":"Create Account"}),d&&Object(j.jsx)("p",{children:"Sending Request..."}),Object(j.jsx)("button",{type:"button",className:N.a.toggle,onClick:function(){s((function(e){return!e}))},children:c?"Create new account":"Login with existing account"})]})]})]})},w=function(){return Object(j.jsx)(C,{})},k=n(40),D=n.n(k),A=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("section",{className:D.a.starting,children:Object(j.jsx)("h1",{children:"Welcome on Thunder Buddies DashBoard!"})})})},E=function(){return Object(j.jsx)(A,{})},I=n(12),L=n.n(I),F=function(){var e=Object(i.useRef)(),t=Object(i.useState)(null),n=Object(l.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)(!1),r=Object(l.a)(a,2),o=r[0],d=r[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{className:L.a.form,onSubmit:function(t){t.preventDefault(),d(!1),s(null);var n=e.current.value;d(!1),fetch("http://20.115.144.39:8080/api/v1/getHsHdNum/"+n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),s(e),d(!0)}))},children:[Object(j.jsxs)("div",{className:L.a.control,children:[Object(j.jsx)("label",{htmlFor:"hshd_num",children:"HouseHold Num"}),Object(j.jsx)("input",{type:"text",id:"hshd_num",ref:e})]}),o&&Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[c.length," rows extracted."]})}),Object(j.jsx)("div",{className:L.a.action,children:Object(j.jsx)("button",{children:"Extract Data"})})]}),o&&Object(j.jsx)("section",{className:L.a.databox,children:Object(j.jsxs)("table",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"HouseHold Num"}),Object(j.jsx)("th",{children:"Basket Num"}),Object(j.jsx)("th",{children:"Purchase Date"}),Object(j.jsx)("th",{children:"Product Num"}),Object(j.jsx)("th",{children:"Department"}),Object(j.jsx)("th",{children:"Commodity"}),Object(j.jsx)("th",{children:"Spend"}),Object(j.jsx)("th",{children:"Units"}),Object(j.jsx)("th",{children:"Store Region"}),Object(j.jsx)("th",{children:"Week Num"}),Object(j.jsx)("th",{children:"Year"}),Object(j.jsx)("th",{children:"Loyalty Flag"}),Object(j.jsx)("th",{children:"Age Range"}),Object(j.jsx)("th",{children:"Marital"}),Object(j.jsx)("th",{children:"Income Range"}),Object(j.jsx)("th",{children:"HomeOwner"}),Object(j.jsx)("th",{children:"HshdComposition"}),Object(j.jsx)("th",{children:"HH Size"}),Object(j.jsx)("th",{children:"Children"})]}),c.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.hshdNum}),Object(j.jsx)("td",{children:e.basketNum}),Object(j.jsx)("td",{children:e.purchaseDate}),Object(j.jsx)("td",{children:e.productNum}),Object(j.jsx)("td",{children:e.department}),Object(j.jsx)("td",{children:e.commodity}),Object(j.jsx)("td",{children:e.spend}),Object(j.jsx)("td",{children:e.units}),Object(j.jsx)("td",{children:e.storeR}),Object(j.jsx)("td",{children:e.weekNum}),Object(j.jsx)("td",{children:e.year}),Object(j.jsx)("td",{children:e.l}),Object(j.jsx)("td",{children:e.ageRange}),Object(j.jsx)("td",{children:e.marital}),Object(j.jsx)("td",{children:e.incomeRange}),Object(j.jsx)("td",{children:e.homeOwner}),Object(j.jsx)("td",{children:e.hshdComposition}),Object(j.jsx)("td",{children:e.hhSize}),Object(j.jsx)("td",{children:e.children})]},e.purchaseNum)})),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"HouseHold Num"}),Object(j.jsx)("th",{children:"Basket Num"}),Object(j.jsx)("th",{children:"Purchase Date"}),Object(j.jsx)("th",{children:"Product Num"}),Object(j.jsx)("th",{children:"Department"}),Object(j.jsx)("th",{children:"Commodity"}),Object(j.jsx)("th",{children:"Spend"}),Object(j.jsx)("th",{children:"Units"}),Object(j.jsx)("th",{children:"Store Region"}),Object(j.jsx)("th",{children:"Week Num"}),Object(j.jsx)("th",{children:"Year"}),Object(j.jsx)("th",{children:"Loyalty Flag"}),Object(j.jsx)("th",{children:"Age Range"}),Object(j.jsx)("th",{children:"Marital"}),Object(j.jsx)("th",{children:"Income Range"}),Object(j.jsx)("th",{children:"HomeOwner"}),Object(j.jsx)("th",{children:"HshdComposition"}),Object(j.jsx)("th",{children:"HH Size"}),Object(j.jsx)("th",{children:"Children"})]})]})})]})},R=function(){return Object(j.jsx)(F,{})},P=n(13),z=n.n(P),H=function(){var e=Object(i.useRef)(),t=Object(i.useState)(null),n=Object(l.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)(null),r=Object(l.a)(a,2),o=r[0],d=r[1],b=Object(i.useState)(null),h=Object(l.a)(b,2),u=h[0],O=h[1],x=Object(i.useState)(!1),p=Object(l.a)(x,2),g=p[0],m=p[1],f=Object(i.useState)(!1),v=Object(l.a)(f,2),_=v[0],y=v[1];return Object(j.jsxs)("form",{className:L.a.form,onSubmit:function(t){t.preventDefault();var n=e.current.value,s=new FormData;s.append("file",c);m(!0),d(!1),y(!1),O(0),z.a.post("http://20.115.144.39:8080/api/v1/upload/"+n,s,{"Access-Control-Allow-Origin":"*",mode:"no-cors"}).then((function(e){d(!0),y(!1),O(e.data)})).catch((function(e){O("0"),y(!0),d(!1)}))},children:[Object(j.jsxs)("div",{className:L.a.control,children:[Object(j.jsx)("label",{htmlFor:"file_type",children:"File Type:"}),Object(j.jsxs)("select",{ref:e,children:[Object(j.jsx)("option",{value:"households",children:"HouseHolds"}),Object(j.jsx)("option",{value:"transactions",children:"Transactions"}),Object(j.jsx)("option",{value:"products",children:"Products"})]})]}),Object(j.jsx)("div",{className:L.a.control,children:Object(j.jsx)("input",{type:"file",id:"file_upload",onChange:function(e){var t=e.target.files;s(t[0])}})}),Object(j.jsx)("div",{className:L.a.action,children:Object(j.jsx)("button",{children:"Upload Data"})}),o&&Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[u," row(s) uploaded."]})}),g&&!o&&!_&&Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Upload process started... This will take several minutes."})}),_&&g&&Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[u," row(s) uploaded. Data from csv has constraints exceptions. Please check and upload updated csv file."]})})]})},T=function(){return Object(j.jsx)(H,{})},U=(n(73),n(17)),B=n(10),Y=n.n(B),W=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(i.useState)(!1),a=Object(l.a)(s,2),r=a[0],o=a[1],d=Object(i.useState)(null),b=Object(l.a)(d,2),h=b[0],u=b[1],O=Object(i.useState)(!1),x=Object(l.a)(O,2),p=x[0],g=x[1],m=Object(i.useState)(!1),f=Object(l.a)(m,2),v=f[0],_=f[1],y=Object(i.useState)(null),S=Object(l.a)(y,2),N=S[0],C=S[1],w=Object(i.useState)(!1),k=Object(l.a)(w,2),D=k[0],A=k[1],E=Object(i.useState)(!1),I=Object(l.a)(E,2),L=I[0],F=I[1],R=Object(i.useState)(null),P=Object(l.a)(R,2),H=P[0],T=P[1],B=Object(i.useState)(!1),W=Object(l.a)(B,2),J=W[0],M=W[1],V=Object(i.useState)(!1),q=Object(l.a)(V,2),Q=q[0],G=q[1],Z=Object(i.useState)(null),K=Object(l.a)(Z,2),X=K[0],$=K[1],ee=Object(i.useState)(!1),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],se=Object(i.useState)(!1),ae=Object(l.a)(se,2),re=ae[0],ie=ae[1],oe=Object(i.useState)(null),le=Object(l.a)(oe,2),je=le[0],de=le[1];Object(i.useEffect)((function(){var e=setTimeout((function(){r||n||(c(!0),z.a.get("http://20.115.144.39:8080/api/v1/analysis/age-spend").then((function(e){u(be(e.data)),o(!0)}))),v||p||(g(!0),z.a.get("http://20.115.144.39:8080/api/v1/analysis/income-spend").then((function(e){C(he(e.data)),_(!0)}))),L||D||(A(!0),z.a.get("http://20.115.144.39:8080/api/v1/analysis/year-spend").then((function(e){T(ue(e.data)),F(!0)}))),Q||J||(M(!0),z.a.get("http://20.115.144.39:8080/api/v1/analysis/grow-comm-spend").then((function(e){console.log(e.data),$(Oe(e.data)),G(!0)}))),re||ne||(ce(!0),z.a.get("http://20.115.144.39:8080/api/v1/analysis/shrink-comm-spend").then((function(e){console.log(e.data),de(xe(e.data)),ie(!0)})))}),500);return function(){clearTimeout(e)}}),[r,v,L,Q,re]);var be=function(e){return{labels:e.map((function(e){return e.ageRange})),datasets:[{fill:!1,tension:.1,label:"Expenses per AGE_RANGE",backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:e.map((function(e){return e.spend}))}]}},he=function(e){return{labels:e.map((function(e){return e.incomeRange})),datasets:[{label:"Expenses per Income Range",backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:e.map((function(e){return e.spend}))}]}},ue=function(e){return{labels:e.map((function(e){return e.year})),datasets:[{label:"Expenses per Year Range",backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4"],hoverBackgroundColor:["#501800","#4B5000","#175000","#003350","#35014F"],borderColor:"rgba(0,0,0,1)",borderWidth:2,data:e.map((function(e){return e.spend}))}]}},Oe=function(e){var t={labels:[2018,2019,2020],datasets:function(e){return Object.entries(e).map((function(e){return{label:e[0],data:e[1],fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"#000000",borderWidth:2}}))}(e)};return t},xe=function(e){var t={labels:[2018,2019,2020],datasets:function(e){return Object.entries(e).map((function(e){return{label:e[0],data:e[1],fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"#000000",borderWidth:2}}))}(e)};return t};return Object(j.jsxs)("div",{children:[!Q||!re||Object(j.jsx)("div",{className:Y.a.rowC,children:Object(j.jsx)("p",{children:"Charts showing growing and shrinking commodities over years."})}),Object(j.jsxs)("div",{className:Y.a.rowC,children:[Q&&Object(j.jsx)("section",{className:Y.a.databox1,children:Object(j.jsx)(U.b,{data:X,options:{title:{display:!0,text:"Average Expenses per Commodity",fontSize:20},legend:{display:!0,position:"right"}}})}),re&&Object(j.jsx)("section",{className:Y.a.databox1,children:Object(j.jsx)(U.b,{data:je,options:{title:{display:!0,text:"Average Expenses per Income",fontSize:20},legend:{display:!0,position:"right"}}})})]}),L&&Object(j.jsx)("div",{className:Y.a.rowC,children:Object(j.jsx)("p",{children:"Charts showing average spending\u2019s of customers over years."})}),Object(j.jsx)("div",{className:Y.a.rowC,children:L&&Object(j.jsx)("section",{className:Y.a.piedoughnut,children:Object(j.jsx)(U.c,{data:H,options:{title:{display:!0,text:"Average Expenses per Income",fontSize:20},legend:{display:!0,position:"right"}}})})}),Object(j.jsx)("div",{className:Y.a.rowC,children:!r||!v||Object(j.jsx)("div",{className:Y.a.rowC,children:Object(j.jsx)("p",{children:"Charts showing demographic factors \u2013 Income and Age group affecting expenditure of customers."})})}),Object(j.jsxs)("div",{className:Y.a.rowC,children:[r&&Object(j.jsx)("section",{className:Y.a.databox,children:Object(j.jsx)(U.a,{data:h,options:{title:{display:!0,text:"Average Expenses per Age",fontSize:20},legend:{display:!0,position:"right"}}})}),v&&Object(j.jsx)("section",{className:Y.a.databox,children:Object(j.jsx)(U.b,{data:N,options:{title:{display:!0,text:"Average Expenses per Income",fontSize:20},legend:{display:!0,position:"right"}}})})]})]})},J=function(){return Object(j.jsx)(W,{})};var M=function(){var e=Object(i.useContext)(h);return Object(j.jsx)(p,{children:Object(j.jsxs)(r.d,{children:[Object(j.jsx)(r.b,{path:"/",exact:!0,children:Object(j.jsx)(E,{})}),Object(j.jsx)(r.b,{path:"/auth",children:Object(j.jsx)(w,{})}),Object(j.jsxs)(r.b,{path:"/profile",children:[e.isLoggedIn&&Object(j.jsx)(y,{}),!e.isLoggedIn&&Object(j.jsx)(r.a,{to:"/auth"})]}),Object(j.jsxs)(r.b,{path:"/data",children:[e.isLoggedIn&&Object(j.jsx)(R,{}),!e.isLoggedIn&&Object(j.jsx)(r.a,{to:"/auth"})]}),Object(j.jsxs)(r.b,{path:"/load",children:[e.isLoggedIn&&Object(j.jsx)(T,{}),!e.isLoggedIn&&Object(j.jsx)(r.a,{to:"/auth"})]}),Object(j.jsxs)(r.b,{path:"/analyze",children:[e.isLoggedIn&&Object(j.jsx)(J,{}),!e.isLoggedIn&&Object(j.jsx)(r.a,{to:"/auth"})]})]})})};s.a.render(Object(j.jsx)(b,{children:Object(j.jsx)(a.a,{children:Object(j.jsx)(M,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.32301cf8.chunk.js.map